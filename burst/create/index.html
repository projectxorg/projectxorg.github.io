<!DOCTYPE html>
<html>
  <head>
    <title>projectx</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.70.0-DEV" />
<meta name="flattr:id" content="yj6gd6">

<title>How to add provider :: projectx</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>

    
    <script defer src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>
  </head>
  <body data-url="/burst/create/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><a href="/">projectx Documentation</a></p>

  

    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fas fa-times"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/getting-started/" class="dd-item alwaysopen">
      <a href="/getting-started/">
        <span>Getting started</span>
            <i class="fas fa-angle-down fa-lg category-icon"></i><i class="fas fa-circle read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/getting-started/installation/" class="dd-item">
        <a href="/getting-started/installation/">
          <span>Installation</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/getting-started/configuration/" class="dd-item">
        <a href="/getting-started/configuration/">
          <span>Configuration</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/getting-started/platforms-page/" class="dd-item">
        <a href="/getting-started/platforms-page/">
          <span>Downloads</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/getting-started/updating/" class="dd-item">
        <a href="/getting-started/updating/">
          <span>Updating</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/contribute/" class="dd-item alwaysopen">
      <a href="/contribute/">
        <span>Contribute</span>
            <i class="fas fa-angle-down fa-lg category-icon"></i><i class="fas fa-circle read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/contribute/request-feature/" class="dd-item">
        <a href="/contribute/request-feature/">
          <span>Feature Request</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/contribute/report-issue/" class="dd-item">
        <a href="/contribute/report-issue/">
          <span>Report an Issue</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/contribute/log/" class="dd-item">
        <a href="/contribute/log/">
          <span>Making a log file</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/burst/" class="dd-item parent alwaysopen">
      <a href="/burst/">
        <span>Burst addon</span>
            <i class="fas fa-angle-down fa-lg category-icon"></i><i class="fas fa-circle read-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/burst/create/" class="dd-item active">
        <a href="/burst/create/">
          <span>How to add provider</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
      <li data-nav-id="/burst/override/" class="dd-item">
        <a href="/burst/override/">
          <span>How to override provider</span><i class="fas fa-circle read-icon"></i>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/context/" class="dd-item alwaysopen">
      <a href="/context/">
        <span>Context addon</span><i class="fas fa-circle read-icon"></i>
      </a>
    </li>
    <li data-nav-id="/donate/" class="dd-item">
      <a href="/donate/">
        <span>Donate</span><i class="fas fa-circle read-icon"></i>
      </a>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/projectx13/plugin.video.projectx" target="_blank" rel="noopener"><i class='fab fa-github'></i> Github repo</a></li>
                <li class="" role=""><a href="/credits" target="_blank" rel="noopener"><i class='fa fa-bullhorn'></i> Credits</a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer"><center>
  <a class="github-button" href="https://github.com/projectx13/plugin.video.projectx/releases" data-icon="octicon-cloud-download" aria-label="Download elgatito/plugin.video.projectx on GitHub">Download</a>
  <a class="github-button" href="https://github.com/projectx13/plugin.video.projectx" data-icon="octicon-star" data-show-count="false" aria-label="Star elgatito/plugin.video.projectx on GitHub">Star</a>
  <a class="github-button" href="https://github.com/projectx13/plugin.video.projectx/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork elgatito/plugin.video.projectx on GitHub">Fork</a>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/projectx13/projectx-surge/edit/master/src/content/burst/create.md" target="blank">
        <i class="fab fa-github"></i>
        Edit page
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/'>projectx Documentation</a> > <a href='/burst/'>Burst addon</a> > How to add provider

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#preparation">Preparation</a>
      <ul>
        <li><a href="#definition">Definition</a></li>
        <li><a href="#icon">Icon</a></li>
      </ul>
    </li>
    <li><a href="#parsing-rules">Parsing rules</a></li>
    <li><a href="#debugging">Debugging</a>
      <ul>
        <li><a href="#python-code">Python Code</a></li>
        <li><a href="#parser">Parser</a></li>
        <li><a href="#enabling-providers">Enabling providers</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>How to add provider</h1>
  



    

    
    <h2 id="preparation">Preparation</h2>
<p>Each provider consists of a definition in <em>definitions.json</em> file in <em>/burst/providers/</em> folder and an icon in <em>/burst/providers/icons/</em> folder.</p>
<p>Icon is optional, but very much desired. It is easier to quickly find relevant search result, when you visually differ providers.</p>
<p>If you want to try adding new provider, the workflow is about that:</p>
<ul>
<li>Fork Github repository from <a href="https://github.com/projectx13/script.projectx.burst">https://github.com/projectx13/script.projectx.burst</a></li>
<li>Clone the Github repository: <code>git clone git@github.com:yourusername/script.projectx.burst.git</code></li>
<li>Change the branch from <em>master</em> to anything else like <code>git checkout -b my_provider</code></li>
<li>Do your changes to <em>definitions.json</em></li>
<li>Push changes to Github with <code>git push origin my_provider</code></li>
<li>Github will give you a note that you can make a Pull Request, so your changes are included in the Burst code.</li>
<li>Done!</li>
</ul>
<blockquote>
<p>Please, try not to make changes in the Python code of Burst.</p>
</blockquote>
<blockquote>
<p>If you feel you have no other option - run <code>flake8</code> before you commit.</p>
</blockquote>
<blockquote>
<p>It will do basic syntax and code checks. Should run without errors.</p>
</blockquote>
<h3 id="definition">Definition</h3>
<p>Definitions are a JSON list of a smaller parts, each of them describes separate providers.
There are no inherited settings, or default settings, each provider&rsquo;s setting should be explicitly setted.</p>
<p>Example of provider definition:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    <span style="color:#e6db74">&#34;ilcorsaroblu&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
        <span style="color:#f92672">&#34;enabled&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;predefined&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;private&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Il Corsaro Blu&#34;</span>,
        <span style="color:#f92672">&#34;languages&#34;</span>: <span style="color:#e6db74">&#34;it&#34;</span>,
        <span style="color:#f92672">&#34;anime_extra&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;anime_keywords&#34;</span>: <span style="color:#e6db74">&#34;{title:original} {episode}&#34;</span>,
        <span style="color:#f92672">&#34;anime_query&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;base_url&#34;</span>: <span style="color:#e6db74">&#34;https://www.ilcorsaroblu.org/index.php?page=torrents&amp;search=QUERYEXTRA&amp;x=0&amp;y=0&#34;</span>,
        <span style="color:#f92672">&#34;color&#34;</span>: <span style="color:#e6db74">&#34;FFFFFFFF&#34;</span>,
        <span style="color:#f92672">&#34;general_extra&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;general_keywords&#34;</span>: <span style="color:#e6db74">&#34;{title:original}&#34;</span>,
        <span style="color:#f92672">&#34;general_query&#34;</span>: <span style="color:#e6db74">&#34;0&#34;</span>,
        <span style="color:#f92672">&#34;language&#34;</span>: <span style="color:#66d9ef">null</span>,
        <span style="color:#f92672">&#34;login_failed&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;login_object&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;login_path&#34;</span>: <span style="color:#66d9ef">null</span>,
        <span style="color:#f92672">&#34;movie_extra&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;movie_keywords&#34;</span>: <span style="color:#e6db74">&#34;{title:original} {year}&#34;</span>,
        <span style="color:#f92672">&#34;movie_query&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;parser&#34;</span>: {
            <span style="color:#f92672">&#34;row&#34;</span>: <span style="color:#e6db74">&#34;find_once(tag=&#39;table&#39;, select=(&#39;class&#39;, &#39;lista&#39;), order=4).find_all(&#39;tr&#39;)&#34;</span>,
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;item(tag=&#39;td&#39;, order=2)&#34;</span>,
            <span style="color:#f92672">&#34;seeds&#34;</span>: <span style="color:#e6db74">&#34;item(tag=&#39;td&#39;, order=7)&#34;</span>,
            <span style="color:#f92672">&#34;peers&#34;</span>: <span style="color:#e6db74">&#34;item(tag=&#39;td&#39;, order=6)&#34;</span>,
            <span style="color:#f92672">&#34;size&#34;</span>: <span style="color:#e6db74">&#34;item(tag=&#39;td&#39;, order=9)&#34;</span>,
            <span style="color:#f92672">&#34;torrent&#34;</span>: <span style="color:#e6db74">&#34;&#39;https://www.ilcorsaroblu.org/%s&#39; % item(tag=&#39;a&#39;, attribute=&#39;href&#39;, order=3)&#34;</span>
        },
        <span style="color:#f92672">&#34;season_extra&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;season_extra2&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;season_keywords&#34;</span>: <span style="color:#e6db74">&#34;{title:original} Season_{season}&#34;</span>,
        <span style="color:#f92672">&#34;season_keywords2&#34;</span>: <span style="color:#e6db74">&#34;{title:original} Season{season}&#34;</span>,
        <span style="color:#f92672">&#34;season_query&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;separator&#34;</span>: <span style="color:#e6db74">&#34;%20&#34;</span>,
        <span style="color:#f92672">&#34;show_query&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;subpage&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;tv_extra&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;tv_extra2&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;tv_keywords&#34;</span>: <span style="color:#e6db74">&#34;{title:original} s{season:2}e{episode:2}&#34;</span>,
        <span style="color:#f92672">&#34;tv_keywords2&#34;</span>: <span style="color:#e6db74">&#34;{title:original} s{season:2}&#34;</span>
    }
</code></pre></div><p>This part is very important:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    <span style="color:#e6db74">&#34;enabled&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span><span style="color:#960050;background-color:#1e0010">,</span>
    <span style="color:#e6db74">&#34;predefined&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">false</span><span style="color:#960050;background-color:#1e0010">,</span>
    <span style="color:#e6db74">&#34;private&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">false</span><span style="color:#960050;background-color:#1e0010">,</span>
    <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;Il Corsaro Blu&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
    <span style="color:#e6db74">&#34;languages&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;it&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</code></pre></div><p>Where columns mean:</p>
<ul>
<li><code>enabled</code>: <em>boolean</em>, defines if provider is available (not selected to search, but available for selection).</li>
<li><code>predefined</code>: <em>boolean</em>, defines if provider is enabled by default upon installation of Burst (default providers).</li>
<li><code>private</code>: <em>boolean</em>, defines if provider is private, so login should be executed.</li>
<li><code>name</code>: <em>string</em>, name of provider, no special characters, name will be shown in Kodi settings and search results.</li>
<li><code>languages</code>: <em>string</em>, languages used on the tracker, 2-char codes list of languages (like <code>it, fr, en, es</code>), can be ommited.</li>
<li><code>anime_extra</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>anime_keywords</code>: <em>string</em>, query for anime searches.</li>
<li><code>anime_query</code>: <em>string</em>, part of url, added to <code>base_url</code>.</li>
<li><code>base_url</code>: <em>string</em>, URL, used for further uses in searches.</li>
<li><code>color</code>: <em>string</em>, Kodi color code. Can be substituted with word representation. See: <a href="https://s3.amazonaws.com/f.cl.ly/items/1A3S2n0l103n460Y1I0e/chart.jpg">https://s3.amazonaws.com/f.cl.ly/items/1A3S2n0l103n460Y1I0e/chart.jpg</a> .</li>
<li><code>general_extra</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>general_keywords</code>: <em>string</em>, query for general searches (when you type the query).</li>
<li><code>general_query</code>: <em>string</em>, part of url, added to <code>base_url</code>.</li>
<li><code>language</code>: <em>string</em>, 2-char language definition, which language is used to searches.</li>
<li><code>login_failed</code>: <em>string</em>, text to search, to identify we failed with loggin (or better a unique text that indicates we are not logged in).</li>
<li><code>login_object</code>: <em>string</em>, object to use for logging in. <em>USERNAME</em> and <em>PASSWORD</em> are substituted.</li>
<li><code>login_path</code>: <em>string</em>, url, used to <em>POST</em> login object to.</li>
<li><code>movie_extra</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>movie_keywords</code>: <em>string</em>, query for movie searches.</li>
<li><code>movie_query</code>: <em>string</em>, part of url, added to <code>base_url</code>.</li>
<li><code>parser</code>: <em>array</em>, defines how to parse result page.
<ul>
<li><code>row</code>: query searches for rows, each of them will be parsed for torrent information.</li>
<li><code>name</code>: query for torrent name.</li>
<li><code>seeds</code>: query for seeds count.</li>
<li><code>peers</code>: query for peers count.</li>
<li><code>size</code>: query for torrent size.</li>
<li><code>torrent</code>: query for torrent file link or magnet link.</li>
</ul>
</li>
<li><code>season_extra</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>season_extra2</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>season_keywords</code>: <em>string</em>, query for season searches.</li>
<li><code>season_keywords2</code>: <em>string</em>, query for season searches.</li>
<li><code>season_query</code>: <em>string</em>, part of url, added to <code>base_url</code>.</li>
<li><code>separator</code>: <em>string</em>, chars, used to separate words in the query (like <code>%20</code> or <code>-</code>).</li>
<li><code>show_query</code>: <em>string</em>, string that is added to the <code>base_url</code> for episodes searches.</li>
<li><code>subpage</code>: <em>boolean</em>, defines if provider needs a separate request to get <em>parser-&gt;torrent</em> link and find magnet/torrent there.</li>
<li><code>tv_extra</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>tv_extra2</code>: <em>string</em>, text, later replaced into EXTRA keyword in search url.</li>
<li><code>tv_keywords</code>: <em>string</em>, query for episode searches.</li>
<li><code>tv_keywords2</code>: <em>string</em>, query for episode searches.</li>
</ul>
<h3 id="icon">Icon</h3>
<p>Icon requirements are pretty easy:</p>
<ul>
<li>256x256 size</li>
<li>Transparent  background</li>
<li><em>PNG</em> format</li>
</ul>
<p>Place it with <code>provider_id.png</code> file name and it will be used everywhere.</p>
<h2 id="parsing-rules">Parsing rules</h2>
<p>Our parser is <code>ehp.py</code>, it&rsquo;s not an XPath parser, but it gives you fine speed and is pretty fault-tolerant to broken html code.</p>
<p>Project code: <a href="https://github.com/iogf/ehp">https://github.com/iogf/ehp</a></p>
<p>You can see examples in existing definitions. Basically you will need:</p>
<ul>
<li><code>find_once</code> if you need to fine one item;</li>
<li><code>find_all</code> if you need a list of results (like rows);</li>
<li><code>item</code> if you need something specific (like name or specific link).</li>
</ul>
<h2 id="debugging">Debugging</h2>
<p>Kodi Locations can be discovered here: <a href="https://kodi.wiki/view/Log_file/Advanced#Location">https://kodi.wiki/view/Log_file/Advanced#Location</a></p>
<h3 id="python-code">Python Code</h3>
<p>You can copy your cloned git repository into Kodi path and just run search from Kodi, it will use the new code without need to restart Kodi. So you can easily run and track results.</p>
<p>In Linux it&rsquo;s something like:</p>
<p><code>cp -rf /path/to/your/repo/* ~/.kodi/addons/script.projectx.burst/</code></p>
<h3 id="parser">Parser</h3>
<p>Then, if you also want to debug the parser, you can enable excessive debugging:</p>
<p><code>Burst Kodi settings -&gt; Advanced -&gt; Log debug messages for parsing</code></p>
<p>You will see what parser rule we run, and what we match.</p>
<h3 id="enabling-providers">Enabling providers</h3>
<p>Added provider is not enabled for searching by default, you have to enable it in Kodi settings.
So you can run <code>./scripts/generate_settings.py</code> to regenerate <em>settings.xml</em> file, then copy it to Kodi and restart Kodi (<em>settings.xml</em> are read on load or addon installation only).</p>
<p>Only custom providers (not provided with Burst) are enabled by default and you cannon enable or disable them.</p>


    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/burst/" title="Burst addon"> <i class="fa fa-chevron-left"></i></a>
    <a class="nav nav-next" href="/burst/override/" title="How to override provider" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>
